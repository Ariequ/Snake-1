var h=void 0,i=!0,j=null,l=!1,q,s=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"string"==typeof a}var u="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ba=0,ca=Date.now||function(){return+new Date};function v(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==h?d[e]=b:d=d[e]?d[e]:d[e]={}};function da(a){var a=String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a};var w=Array.prototype,ea=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=c==j?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},fa=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
function ga(a,b){var c;a:{c=a.length;for(var d=t(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(h,d[e],e,a)){c=e;break a}c=-1}return 0>c?j:t(a)?a.charAt(c):a[c]};function ha(a,b,c){"number"==typeof a?(this.d=new Date(a,b||0,c||1),ia(this,c||1)):(b=typeof a,"object"==b&&a!=j||"function"==b?(this.d=new Date(a.getFullYear(),a.getMonth(),a.getDate()),ia(this,a.getDate())):(this.d=new Date(ca()),this.d.setHours(0),this.d.setMinutes(0),this.d.setSeconds(0),this.d.setMilliseconds(0)))}q=ha.prototype;q.getFullYear=function(){return this.d.getFullYear()};q.getMonth=function(){return this.d.getMonth()};q.getDate=function(){return this.d.getDate()};q.getUTCHours=function(){return this.d.getUTCHours()};
q.toString=function(){return[this.getFullYear(),da(this.getMonth()+1),da(this.getDate())].join("")+""};function ia(a,b){a.getDate()!=b&&a.d.setUTCHours(a.d.getUTCHours()+(a.getDate()<b?1:-1))}q.valueOf=function(){return this.d.valueOf()};var y,ja,z,ka;function la(){return s.navigator?s.navigator.userAgent:j}ka=z=ja=y=l;var A;if(A=la()){var ma=s.navigator;y=0==A.indexOf("Opera");ja=!y&&-1!=A.indexOf("MSIE");z=!y&&-1!=A.indexOf("WebKit");ka=!y&&!z&&"Gecko"==ma.product}var na=y,B=ja,C=ka,D=z,oa=s.navigator,pa=-1!=(oa&&oa.platform||"").indexOf("Mac"),qa;
a:{var E="",F;if(na&&s.opera)var ra=s.opera.version,E="function"==typeof ra?ra():ra;else if(C?F=/rv\:([^\);]+)(\)|;)/:B?F=/MSIE\s+([^\);]+)(\)|;)/:D&&(F=/WebKit\/(\S+)/),F)var sa=F.exec(la()),E=sa?sa[1]:"";if(B){var ta,ua=s.document;ta=ua?ua.documentMode:h;if(ta>parseFloat(E)){qa=String(ta);break a}}qa=E}var va={};
function G(a){var b;if(!(b=va[a])){b=0;for(var c=String(qa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var r=m.exec(g)||["","",""],n=p.exec(k)||["","",""];if(0==r[0].length&&0==n[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==r[1].length?0:parseInt(r[1],
10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==r[2].length)<(0==n[2].length)?-1:(0==r[2].length)>(0==n[2].length)?1:0)||(r[2]<n[2]?-1:r[2]>n[2]?1:0)}while(0==b)}b=va[a]=0<=b}return b}var wa={};function H(){return wa[9]||(wa[9]=B&&!!document.documentMode&&9<=document.documentMode)};var xa;!B||H();!C&&!B||B&&H()||C&&G("1.9.1");B&&G("9");function I(a,b){this.width=a;this.height=b}I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};function J(a){return t(a)?document.getElementById(a):a}function K(){return document.createElement("div")}function ya(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function L(a){this.H=a||s.document||document}L.prototype.createElement=function(a){return this.H.createElement(a)};L.prototype.appendChild=function(a,b){a.appendChild(b)};function M(a,b){if("FORM"==a.tagName)for(var c=a.elements,d=0;a=c[d];d++)M(a,b);else b==i&&a.blur(),a.disabled=b}function za(a){var b=a.type;if(b===h)return j;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:j;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:j;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:j;default:return a.value!==h?a.value:j}};!B||H();var Aa=!B||H(),Ba=B&&!G("8");!D||G("528");C&&G("1.9b")||B&&G("8")||na&&G("9.5")||D&&G("528");C&&!G("8")||B&&G("9");function N(a,b){this.type=a;this.currentTarget=this.target=b}N.prototype.F=l;N.prototype.defaultPrevented=l;N.prototype.S=i;N.prototype.preventDefault=function(){this.defaultPrevented=i;this.S=l};function Ca(a){Ca[" "](a);return a}Ca[" "]=function(){};function O(a,b){a&&this.o(a,b)}function Da(){}Da.prototype=N.prototype;O.T=N.prototype;O.prototype=new Da;q=O.prototype;q.target=j;q.relatedTarget=j;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=l;q.altKey=l;q.shiftKey=l;q.metaKey=l;q.R=l;q.I=j;
q.o=function(a,b){var c=this.type=a.type;N.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(C){var e;a:{try{Ca(d.nodeName);e=i;break a}catch(f){}e=l}e||(d=j)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=D||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=D||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.R=pa?a.metaKey:a.ctrlKey;this.state=a.state;this.I=a;a.defaultPrevented&&this.preventDefault();delete this.F};
q.preventDefault=function(){O.T.preventDefault.call(this);var a=this.I;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,Ba)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};function Ea(){}var Fa=0;q=Ea.prototype;q.key=0;q.t=l;q.G=l;q.o=function(a,b,c,d,e,f){if("function"==aa(a))this.K=i;else if(a&&a.handleEvent&&"function"==aa(a.handleEvent))this.K=l;else throw Error("Invalid listener argument");this.A=a;this.N=b;this.src=c;this.type=d;this.capture=!!e;this.J=f;this.G=l;this.key=++Fa;this.t=l};q.handleEvent=function(a){return this.K?this.A.call(this.J||this.src,a):this.A.handleEvent.call(this.A,a)};var P={},Q={},R={},S={};
function Ga(a,b,c,d,e){if(b)if("array"==aa(b))for(var f=0;f<b.length;f++)Ga(a,b[f],c,d,e);else{var d=!!d,g=Q;b in g||(g[b]={g:0,q:0});g=g[b];d in g||(g[d]={g:0,q:0},g.g++);var g=g[d],k=a[u]||(a[u]=++ba),m;g.q++;if(g[k]){m=g[k];for(f=0;f<m.length;f++)if(g=m[f],g.A==c&&g.J==e){if(g.t)break;return}}else m=g[k]=[],g.g++;var p=Ha,r=Aa?function(a){return p.call(r.src,r.key,a)}:function(a){a=p.call(r.src,r.key,a);if(!a)return a},f=r;f.src=a;g=new Ea;g.o(c,f,a,b,d,e);c=g.key;f.key=c;m.push(g);P[c]=g;R[k]||
(R[k]=[]);R[k].push(g);a.addEventListener?(a==s||!a.P)&&a.addEventListener(b,f,d):a.attachEvent(b in S?S[b]:S[b]="on"+b,f)}else throw Error("Invalid event type");}function Ia(a,b,c,d){if(!d.B&&d.M){for(var e=0,f=0;e<d.length;e++)d[e].t?d[e].N.src=j:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.M=l;0==f&&(delete Q[a][b][c],Q[a][b].g--,0==Q[a][b].g&&(delete Q[a][b],Q[a].g--),0==Q[a].g&&delete Q[a])}}
function Ja(a,b,c,d,e){var f=1,b=b[u]||(b[u]=++ba);if(a[b]){a.q--;a=a[b];a.B?a.B++:a.B=1;try{for(var g=a.length,k=0;k<g;k++){var m=a[k];m&&!m.t&&(f&=Ka(m,e)!==l)}}finally{a.B--,Ia(c,d,b,a)}}return Boolean(f)}
function Ka(a,b){if(a.G){var c=a.key;if(P[c]){var d=P[c];if(!d.t){var e=d.src,f=d.type,g=d.N,k=d.capture;e.removeEventListener?(e==s||!e.P)&&e.removeEventListener(f,g,k):e.detachEvent&&e.detachEvent(f in S?S[f]:S[f]="on"+f,g);e=e[u]||(e[u]=++ba);if(R[e]){var g=R[e],m=ea(g,d);0<=m&&w.splice.call(g,m,1);0==g.length&&delete R[e]}d.t=i;if(d=Q[f][k][e])d.M=i,Ia(f,k,e,d);delete P[c]}}}return a.handleEvent(b)}
function Ha(a,b){if(!P[a])return i;var c=P[a],d=c.type,e=Q;if(!(d in e))return i;var e=e[d],f,g;if(!Aa){var k;if(!(k=b))a:{k=["window","event"];for(var m=s;f=k.shift();)if(m[f]!=j)m=m[f];else{k=j;break a}k=m}f=k;k=i in e;m=l in e;if(k){if(0>f.keyCode||f.returnValue!=h)return i;a:{var p=l;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(r){p=i}if(p||f.returnValue==h)f.returnValue=i}}p=new O;p.o(f,this);f=i;try{if(k){for(var n=[],X=p.currentTarget;X;X=X.parentNode)n.push(X);g=e[i];g.q=g.g;for(var x=n.length-
1;!p.F&&0<=x&&g.q;x--)p.currentTarget=n[x],f&=Ja(g,n[x],d,i,p);if(m){g=e[l];g.q=g.g;for(x=0;!p.F&&x<n.length&&g.q;x++)p.currentTarget=n[x],f&=Ja(g,n[x],d,l,p)}}else f=Ka(c,p)}finally{n&&(n.length=0)}return f}d=new O(b,this);return f=Ka(c,d)};function T(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}T.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function U(a,b){var c=ya(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,j))?c[b]||c.getPropertyValue(b)||"":""}
function La(a){var b=ya(a),c=B&&a.currentStyle,d;if(d=c)d="CSS1Compat"==(b?new L(ya(b)):xa||(xa=new L)).H.compatMode&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing;if(d)return b=V(a,c.width,"width","pixelWidth"),a=V(a,c.height,"height","pixelHeight"),new I(b,a);c=new I(a.offsetWidth,a.offsetHeight);if(B){b=W(a,"paddingLeft");d=W(a,"paddingRight");var e=W(a,"paddingTop"),f=W(a,"paddingBottom"),b=new T(e,d,f,b)}else b=U(a,"paddingLeft"),d=U(a,"paddingRight"),e=U(a,"paddingTop"),f=U(a,"paddingBottom"),
b=new T(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));B?(d=Y(a,"borderLeft"),e=Y(a,"borderRight"),f=Y(a,"borderTop"),a=Y(a,"borderBottom"),a=new T(f,e,a,d)):(d=U(a,"borderLeftWidth"),e=U(a,"borderRightWidth"),f=U(a,"borderTopWidth"),a=U(a,"borderBottomWidth"),a=new T(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d)));return new I(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}
function V(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}function W(a,b){return V(a,a.currentStyle?a.currentStyle[b]:j,"left","pixelLeft")}var Ma={thin:2,medium:4,thick:6};function Y(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:j))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:j;return c in Ma?Ma[c]:V(a,c,"left","pixelLeft")};function Z(){switch((new ha).getMonth()){case 9:this.r="url('images/head_halloween.png')";this.v="url('images/body_halloween.gif')";this.w="url('images/gem_halloween.png')";break;case 10:this.r="url('images/head_turkey.png')";this.v="url('images/body_turkey.png')";this.w="url('images/gem_turkey.png')";break;case 11:this.r="url('images/head_christmas.png')";this.v="url('images/body_christmas.png')";this.w="url('images/gem_christmas.png')";break;default:this.r="url('images/head_default.jpg')",this.v=
"url('images/body_default.jpg')",this.w="url('images/gem_default.png')"}this.u=0;this.l=i;this.C=this.i=l;this.n=this.k=0;this.p=this.f=$;this.e=[];this.m=-1;this.s={x:0,y:0};this.j={x:0,y:0};this.a={};Ga(document,"keydown",this.Q,l,this)}var $=3;q=Z.prototype;
q.Q=function(a){if(a)switch(a.keyCode){case 37:!this.i&&this.p!=$&&(this.f=2);break;case 38:!this.i&&1!=this.p&&(this.f=0);break;case 39:!this.i&&2!=this.p&&(this.f=$);break;case 40:!this.i&&0!=this.p&&(this.f=1);break;case 32:Na(this);break;case 76:this.L();break;case 78:this.l&&this.o();break;case 83:this.O()}};
q.o=function(){J("finalScore").style.display="none";this.h=J("gameBoard");this.z=J("snakeSpeedForm");this.i=this.l=l;this.n=this.k=0;this.f=$;this.e=[];this.m=-1;var a;a:if(a=this.z.elements.snakeSpeed,a.type)a=za(a);else{for(var b=0;b<a.length;b++){var c=za(a[b]);if(c){a=c;break a}}a=j}this.u=a;M(this.z,i);J("counter").innerHTML=this.k;this.h.innerHTML="";a=K();a.id="gemPiece";a.className="gem-piece";a.style.backgroundImage=this.w;this.h.appendChild(a);Oa(this);a=La(this.h);this.s.y=Math.floor(a.height/
20)-1;this.s.x=Math.floor(a.width/20)-1;a=Math.floor(this.s.y/2);b=Math.floor(this.s.x/2);c=K();c.id="snakePiece"+ ++this.n;c.className="snake-Piece";c.style.top=20*a;c.style.left=20*b;c.style.backgroundImage=this.r;this.h.appendChild(c);this.m=this.n;this.e.push(new Pa(this.n,b,a));this.move()};
function Oa(a,b,c){a.D||(a.D=La(a.h));for(var d=Math.floor(a.D.height/20),e=Math.floor(a.D.width/20),b=b||Math.floor(Math.random()*e),c=c||Math.floor(Math.random()*d);!Qa(a,b,c);)b=Math.floor(Math.random()*e),c=Math.floor(Math.random()*d);a.j.x=b;a.j.y=c;a=J("gemPiece");a.style.marginTop=20*c;a.style.marginLeft=20*b}
function Na(a){if(!a.l){var b=J("pauseButton");a.i?(a.i=l,b&&(b.value="Pause"),J("pauseGameOverlay").style.display="none",setTimeout("snake.move()",1E3/a.u)):(a.i=i,b&&(b.value="Resume"),J("pauseGameOverlay").style.display="block")}}function Pa(a,b,c){this.id=a;this.b=b||-1;this.c=c||-1}function Qa(a,b,c){return ga(a.e,function(a){return a.b==b&&a.c==c?i:l})==j}
q.move=function(){if(!this.i){var a,b=this.m;a=ga(this.e,function(a){return a.id==b?i:l});var c=l;switch(this.f){case 2:c=0>=a.b;break;case 0:c=0>=a.c;break;case $:c=a.b>=this.s.x;break;case 1:c=a.c>=this.s.y}c||ga(this.e,function(b){return b.b==a.b&&b.c==a.c&&b.id!=a.id?i:l})&&(c=i);if(this.l=c)J("finalScoreNum").innerHTML=this.k,J("finalScore").style.display="inline",M(this.z,l),c=K(),c.className="previous-scores-text",c.innerHTML=this.k,J("previousScores").appendChild(c);else{var d,e=J("snakePiece"+
this.m);this.C?(c=K(),c.id="snakePiece"+ ++this.n,c.className="snake-piece",c.style.top=e.offsetTop,c.style.left=e.offsetLeft,this.h.appendChild(c),d=new Pa(this.n),this.C=l):(d=this.e.shift(),c=J("snakePiece"+d.id));d.b=a.b;d.c=a.c;switch(this.f){case 2:d.b--;c.style.left=20*d.b;c.style.top=20*d.c;break;case 0:d.c--;c.style.left=20*d.b;c.style.top=20*d.c;break;case $:d.b++;c.style.left=20*d.b;c.style.top=20*d.c;break;case 1:d.c++,c.style.left=20*d.b,c.style.top=20*d.c}e.style.backgroundImage=this.v;
c.style.backgroundImage=this.r;this.m=d.id;this.e.push(d);this.p=this.f;d=l;c&&(d=J("gemPiece"),d=c.style.top==d.style.marginTop&&c.style.left==d.style.marginLeft);if(d&&(this.C=i,Oa(this),c=J("counter")))c.innerHTML=++this.k;setTimeout("snake.move()",1E3/this.u)}}};function Ra(a){for(var b=[],c,d=0;d<a.e.length;d++)c=a.e[d],b.push(new Pa(c.id,c.b,c.c));return b}
q.O=function(){this.l||(this.a.snakeQueue=Ra(this),this.a.snakeHeadID=this.m,this.a.counter=this.k,this.a.snakeLength=this.n,this.a.snakeSpeed=this.u,this.a.currentDirection=this.f,this.a.previousDirection=this.p,this.a.gemCoords={x:this.j.x,y:this.j.y})};
q.L=function(){var a;if(a=this.l){a=0;for(var b in this.a)a++;a=8==a}if(a){J("finalScore").style.display="none";this.l=l;this.e=this.a.snakeQueue;this.m=this.a.snakeHeadID;this.k=this.a.counter;this.n=this.a.snakeLength;this.u=this.a.snakeSpeed;this.f=this.a.currentDirection;this.p=this.a.previousDirection;this.j=this.a.gemCoords;this.a.snakeQueue=Ra(this);this.a.gemCoords={x:this.j.x,y:this.j.y};b=this.z.elements.snakeSpeed;for(a=0;a<b.length;a++)b[a].checked=parseInt(b[a].value,10)!=this.u?l:i;
M(this.z,i);J("counter").innerHTML=this.k;this.h.innerHTML="";b=K();b.id="gemPiece";b.className="gem-piece";b.style.backgroundImage=this.w;this.h.appendChild(b);Oa(this,this.j.x,this.j.y);fa(this.e,function(a){var b=K();b.id="snakePiece"+a.id;b.className="snake-Piece";b.style.top=20*a.c;b.style.left=20*a.b;b.style.backgroundImage=a.id==this.m?this.r:this.v;this.h.appendChild(b)},this);Na(this)}};v("Snake",Z);v("Snake.prototype.move",Z.prototype.move);v("Snake.prototypesaveGame",Z.prototype.O);
v("Snake.prototype.loadGame",Z.prototype.L);v("Snake.prototype.init",Z.prototype.o);