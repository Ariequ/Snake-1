var h=void 0,i=!0,j=null,l=!1,n,s=this;
function aa(a){var c=typeof a;if("object"==c)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return c;var b=Object.prototype.toString.call(a);if("[object Window]"==b)return"object";if("[object Array]"==b||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==b||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==c&&"undefined"==typeof a.call)return"object";return c}function t(a){return"string"==typeof a}var u="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ba=0;function v(a,c){var b=a.split("."),d=s;!(b[0]in d)&&d.execScript&&d.execScript("var "+b[0]);for(var e;b.length&&(e=b.shift());)!b.length&&c!==h?d[e]=c:d=d[e]?d[e]:d[e]={}};var w=Array.prototype,ca=w.indexOf?function(a,c,b){return w.indexOf.call(a,c,b)}:function(a,c,b){b=b==j?0:0>b?Math.max(0,a.length+b):b;if(t(a))return!t(c)||1!=c.length?-1:a.indexOf(c,b);for(;b<a.length;b++)if(b in a&&a[b]===c)return b;return-1},da=w.forEach?function(a,c,b){w.forEach.call(a,c,b)}:function(a,c,b){for(var d=a.length,e=t(a)?a.split(""):a,f=0;f<d;f++)f in e&&c.call(b,e[f],f,a)};
function ea(a,c){var b;a:{b=a.length;for(var d=t(a)?a.split(""):a,e=0;e<b;e++)if(e in d&&c.call(h,d[e],e,a)){b=e;break a}b=-1}return 0>b?j:t(a)?a.charAt(b):a[b]};var x,fa,z,ga;function ha(){return s.navigator?s.navigator.userAgent:j}ga=z=fa=x=l;var A;if(A=ha()){var ia=s.navigator;x=0==A.indexOf("Opera");fa=!x&&-1!=A.indexOf("MSIE");z=!x&&-1!=A.indexOf("WebKit");ga=!x&&!z&&"Gecko"==ia.product}var ja=x,B=fa,C=ga,D=z,ka=s.navigator,la=-1!=(ka&&ka.platform||"").indexOf("Mac"),ma;
a:{var E="",F;if(ja&&s.opera)var na=s.opera.version,E="function"==typeof na?na():na;else if(C?F=/rv\:([^\);]+)(\)|;)/:B?F=/MSIE\s+([^\);]+)(\)|;)/:D&&(F=/WebKit\/(\S+)/),F)var oa=F.exec(ha()),E=oa?oa[1]:"";if(B){var pa,qa=s.document;pa=qa?qa.documentMode:h;if(pa>parseFloat(E)){ma=String(pa);break a}}ma=E}var ra={};
function G(a){var c;if(!(c=ra[a])){c=0;for(var b=String(ma).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(b.length,d.length),f=0;0==c&&f<e;f++){var g=b[f]||"",k=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var r=m.exec(g)||["","",""],p=q.exec(k)||["","",""];if(0==r[0].length&&0==p[0].length)break;c=((0==r[1].length?0:parseInt(r[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==r[1].length?0:parseInt(r[1],
10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==r[2].length)<(0==p[2].length)?-1:(0==r[2].length)>(0==p[2].length)?1:0)||(r[2]<p[2]?-1:r[2]>p[2]?1:0)}while(0==c)}c=ra[a]=0<=c}return c}var sa={};function H(){return sa[9]||(sa[9]=B&&!!document.documentMode&&9<=document.documentMode)};var ta;!B||H();!C&&!B||B&&H()||C&&G("1.9.1");B&&G("9");function I(a,c){this.width=a;this.height=c}I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};function J(a){return t(a)?document.getElementById(a):a}function K(){return document.createElement("div")}function ua(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function L(a){this.C=a||s.document||document}L.prototype.createElement=function(a){return this.C.createElement(a)};L.prototype.appendChild=function(a,c){a.appendChild(c)};function M(a,c){if("FORM"==a.tagName)for(var b=a.elements,d=0;a=b[d];d++)M(a,c);else c==i&&a.blur(),a.disabled=c}function va(a){var c=a.type;if(c===h)return j;switch(c.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:j;case "select-one":return c=a.selectedIndex,0<=c?a.options[c].value:j;case "select-multiple":for(var c=[],b,d=0;b=a.options[d];d++)b.selected&&c.push(b.value);return c.length?c:j;default:return a.value!==h?a.value:j}};!B||H();var wa=!B||H(),xa=B&&!G("8");!D||G("528");C&&G("1.9b")||B&&G("8")||ja&&G("9.5")||D&&G("528");C&&!G("8")||B&&G("9");function N(a,c){this.type=a;this.currentTarget=this.target=c}N.prototype.A=l;N.prototype.defaultPrevented=l;N.prototype.O=i;N.prototype.preventDefault=function(){this.defaultPrevented=i;this.O=l};function ya(a){ya[" "](a);return a}ya[" "]=function(){};function O(a,c){a&&this.n(a,c)}function za(){}za.prototype=N.prototype;O.P=N.prototype;O.prototype=new za;n=O.prototype;n.target=j;n.relatedTarget=j;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=l;n.altKey=l;n.shiftKey=l;n.metaKey=l;n.N=l;n.D=j;
n.n=function(a,c){var b=this.type=a.type;N.call(this,b);this.target=a.target||a.srcElement;this.currentTarget=c;var d=a.relatedTarget;if(d){if(C){var e;a:{try{ya(d.nodeName);e=i;break a}catch(f){}e=l}e||(d=j)}}else"mouseover"==b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;this.offsetX=D||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=D||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==b?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.N=la?a.metaKey:a.ctrlKey;this.state=a.state;this.D=a;a.defaultPrevented&&this.preventDefault();delete this.A};
n.preventDefault=function(){O.P.preventDefault.call(this);var a=this.D;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,xa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(c){}};function Aa(){}var Ba=0;n=Aa.prototype;n.key=0;n.r=l;n.B=l;n.n=function(a,c,b,d,e,f){if("function"==aa(a))this.G=i;else if(a&&a.handleEvent&&"function"==aa(a.handleEvent))this.G=l;else throw Error("Invalid listener argument");this.u=a;this.J=c;this.src=b;this.type=d;this.capture=!!e;this.F=f;this.B=l;this.key=++Ba;this.r=l};n.handleEvent=function(a){return this.G?this.u.call(this.F||this.src,a):this.u.handleEvent.call(this.u,a)};var P={},Q={},R={},S={};
function Ca(a,c,b,d,e){if(c)if("array"==aa(c))for(var f=0;f<c.length;f++)Ca(a,c[f],b,d,e);else{var d=!!d,g=Q;c in g||(g[c]={f:0,p:0});g=g[c];d in g||(g[d]={f:0,p:0},g.f++);var g=g[d],k=a[u]||(a[u]=++ba),m;g.p++;if(g[k]){m=g[k];for(f=0;f<m.length;f++)if(g=m[f],g.u==b&&g.F==e){if(g.r)break;return}}else m=g[k]=[],g.f++;var q=Da,r=wa?function(a){return q.call(r.src,r.key,a)}:function(a){a=q.call(r.src,r.key,a);if(!a)return a},f=r;f.src=a;g=new Aa;g.n(b,f,a,c,d,e);b=g.key;f.key=b;m.push(g);P[b]=g;R[k]||
(R[k]=[]);R[k].push(g);a.addEventListener?(a==s||!a.L)&&a.addEventListener(c,f,d):a.attachEvent(c in S?S[c]:S[c]="on"+c,f)}else throw Error("Invalid event type");}function Ea(a,c,b,d){if(!d.v&&d.I){for(var e=0,f=0;e<d.length;e++)d[e].r?d[e].J.src=j:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.I=l;0==f&&(delete Q[a][c][b],Q[a][c].f--,0==Q[a][c].f&&(delete Q[a][c],Q[a].f--),0==Q[a].f&&delete Q[a])}}
function Fa(a,c,b,d,e){var f=1,c=c[u]||(c[u]=++ba);if(a[c]){a.p--;a=a[c];a.v?a.v++:a.v=1;try{for(var g=a.length,k=0;k<g;k++){var m=a[k];m&&!m.r&&(f&=Ga(m,e)!==l)}}finally{a.v--,Ea(b,d,c,a)}}return Boolean(f)}
function Ga(a,c){if(a.B){var b=a.key;if(P[b]){var d=P[b];if(!d.r){var e=d.src,f=d.type,g=d.J,k=d.capture;e.removeEventListener?(e==s||!e.L)&&e.removeEventListener(f,g,k):e.detachEvent&&e.detachEvent(f in S?S[f]:S[f]="on"+f,g);e=e[u]||(e[u]=++ba);if(R[e]){var g=R[e],m=ca(g,d);0<=m&&w.splice.call(g,m,1);0==g.length&&delete R[e]}d.r=i;if(d=Q[f][k][e])d.I=i,Ea(f,k,e,d);delete P[b]}}}return a.handleEvent(c)}
function Da(a,c){if(!P[a])return i;var b=P[a],d=b.type,e=Q;if(!(d in e))return i;var e=e[d],f,g;if(!wa){var k;if(!(k=c))a:{k=["window","event"];for(var m=s;f=k.shift();)if(m[f]!=j)m=m[f];else{k=j;break a}k=m}f=k;k=i in e;m=l in e;if(k){if(0>f.keyCode||f.returnValue!=h)return i;a:{var q=l;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(r){q=i}if(q||f.returnValue==h)f.returnValue=i}}q=new O;q.n(f,this);f=i;try{if(k){for(var p=[],X=q.currentTarget;X;X=X.parentNode)p.push(X);g=e[i];g.p=g.f;for(var y=p.length-
1;!q.A&&0<=y&&g.p;y--)q.currentTarget=p[y],f&=Fa(g,p[y],d,i,q);if(m){g=e[l];g.p=g.f;for(y=0;!q.A&&y<p.length&&g.p;y++)q.currentTarget=p[y],f&=Fa(g,p[y],d,l,q)}}else f=Ga(b,q)}finally{p&&(p.length=0)}return f}d=new O(c,this);return f=Ga(b,d)};function T(a,c,b,d){this.top=a;this.right=c;this.bottom=b;this.left=d}T.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function U(a,c){var b=ua(a);return b.defaultView&&b.defaultView.getComputedStyle&&(b=b.defaultView.getComputedStyle(a,j))?b[c]||b.getPropertyValue(c)||"":""}
function Ha(a){var c=ua(a),b=B&&a.currentStyle,d;if(d=b)d="CSS1Compat"==(c?new L(ua(c)):ta||(ta=new L)).C.compatMode&&"auto"!=b.width&&"auto"!=b.height&&!b.boxSizing;if(d)return c=V(a,b.width,"width","pixelWidth"),a=V(a,b.height,"height","pixelHeight"),new I(c,a);b=new I(a.offsetWidth,a.offsetHeight);if(B){c=W(a,"paddingLeft");d=W(a,"paddingRight");var e=W(a,"paddingTop"),f=W(a,"paddingBottom"),c=new T(e,d,f,c)}else c=U(a,"paddingLeft"),d=U(a,"paddingRight"),e=U(a,"paddingTop"),f=U(a,"paddingBottom"),
c=new T(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(c));B?(d=Y(a,"borderLeft"),e=Y(a,"borderRight"),f=Y(a,"borderTop"),a=Y(a,"borderBottom"),a=new T(f,e,a,d)):(d=U(a,"borderLeftWidth"),e=U(a,"borderRightWidth"),f=U(a,"borderTopWidth"),a=U(a,"borderBottomWidth"),a=new T(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d)));return new I(b.width-a.left-c.left-c.right-a.right,b.height-a.top-c.top-c.bottom-a.bottom)}
function V(a,c,b,d){if(/^\d+px?$/.test(c))return parseInt(c,10);var e=a.style[b],f=a.runtimeStyle[b];a.runtimeStyle[b]=a.currentStyle[b];a.style[b]=c;c=a.style[d];a.style[b]=e;a.runtimeStyle[b]=f;return c}function W(a,c){return V(a,a.currentStyle?a.currentStyle[c]:j,"left","pixelLeft")}var Ia={thin:2,medium:4,thick:6};function Y(a,c){if("none"==(a.currentStyle?a.currentStyle[c+"Style"]:j))return 0;var b=a.currentStyle?a.currentStyle[c+"Width"]:j;return b in Ia?Ia[b]:V(a,b,"left","pixelLeft")};function Z(){this.s=0;this.j=i;this.w=this.h=l;this.l=this.m=0;this.o=this.e=$;this.d=[];this.k=-1;this.q={x:0,y:0};this.i={x:0,y:0};this.a={};Ca(document,"keydown",this.M,l,this)}var $=3;
Z.prototype.M=function(a){if(a=a?a:window.event?event:j)switch(a.keyCode){case 37:!this.h&&this.o!=$&&(this.e=2);break;case 38:!this.h&&1!=this.o&&(this.e=0);break;case 39:!this.h&&2!=this.o&&(this.e=$);break;case 40:!this.h&&0!=this.o&&(this.e=1);break;case 32:Ja(this);break;case 76:this.H();break;case 78:this.j&&this.n();break;case 83:this.K()}};var Ka="Microsoft Internet Explorer"==navigator.appName;
Z.prototype.n=function(){J("finalScore").style.display="none";this.g=J("gameBoard");this.t=J("snakeSpeedForm");this.h=this.j=l;this.l=this.m=0;this.e=$;this.d=[];this.k=-1;var a;a:if(a=this.t.elements.snakeSpeed,a.type)a=va(a);else{for(var c=0;c<a.length;c++){var b=va(a[c]);if(b){a=b;break a}}a=j}this.s=a;M(this.t,i);Ka||(J("restartButton").focus(),J("restartButton").blur());J("counter").innerHTML=this.m;this.g.innerHTML="";a=K();a.id="gemPiece";a.className="gem-piece";a.style.backgroundImage="url('images/gem_halloween.png')";
this.g.appendChild(a);La(this);a=Ha(this.g);this.q.y=Math.floor(a.height/20)-1;this.q.x=Math.floor(a.width/20)-1;a=Math.floor(this.q.y/2);c=Math.floor(this.q.x/2);b=K();b.id="snakePiece"+ ++this.l;b.className="snake-Piece";b.style.top=20*a;b.style.left=20*c;b.style.backgroundImage="url('images/head_halloween.png')";this.g.appendChild(b);this.k=this.l;this.d.push(new Ma(this.l,c,a));this.move()};
function La(a,c,b){a.z||(a.z=Ha(a.g));for(var d=Math.floor(a.z.height/20),e=Math.floor(a.z.width/20),c=c||Math.floor(Math.random()*e),b=b||Math.floor(Math.random()*d);!Na(a,c,b);)c=Math.floor(Math.random()*e),b=Math.floor(Math.random()*d);a.i.x=c;a.i.y=b;a=J("gemPiece");a.style.marginTop=20*b;a.style.marginLeft=20*c}
function Ja(a){if(!a.j){var c=J("pauseButton");a.h?(a.h=l,c&&(c.value="Pause"),Ka||(J("pauseGameOverlay").style.display="none"),setTimeout("snake.move()",1E3/a.s)):(a.h=i,c&&(c.value="Resume"),Ka||(J("pauseGameOverlay").style.display="block"))}}function Ma(a,c,b){this.id=a;this.b=c||-1;this.c=b||-1}function Na(a,c,b){return ea(a.d,function(a){return a.b==c&&a.c==b?i:l})==j}
Z.prototype.move=function(){if(!this.h){var a,c=this.k;a=ea(this.d,function(a){return a.id==c?i:l});var b=l;switch(this.e){case 2:b=0>=a.b;break;case 0:b=0>=a.c;break;case $:b=a.b>=this.q.x;break;case 1:b=a.c>=this.q.y}b||ea(this.d,function(b){return b.b==a.b&&b.c==a.c&&b.id!=a.id?i:l})&&(b=i);if(this.j=b)J("finalScoreNum").innerHTML=this.m,J("finalScore").style.display="inline",M(this.t,l),b=K(),b.className="previous-scores-text",b.innerHTML=this.m,J("previousScores").appendChild(b);else{var d,e=
J("snakePiece"+this.k);this.w?(b=K(),b.id="snakePiece"+ ++this.l,b.className="snake-piece",b.style.top=e.offsetTop,b.style.left=e.offsetLeft,this.g.appendChild(b),d=new Ma(this.l),this.w=l):(d=this.d.shift(),b=J("snakePiece"+d.id));d.b=a.b;d.c=a.c;switch(this.e){case 2:d.b--;b.style.left=20*d.b;b.style.top=20*d.c;break;case 0:d.c--;b.style.left=20*d.b;b.style.top=20*d.c;break;case $:d.b++;b.style.left=20*d.b;b.style.top=20*d.c;break;case 1:d.c++,b.style.left=20*d.b,b.style.top=20*d.c}e.style.backgroundImage=
"url('images/body_halloween.gif')";b.style.backgroundImage="url('images/head_halloween.png')";this.k=d.id;this.d.push(d);this.o=this.e;d=l;b&&(d=J("gemPiece"),d=b.style.top==d.style.marginTop&&b.style.left==d.style.marginLeft);if(d&&(this.w=i,La(this),b=J("counter")))b.innerHTML=++this.m;setTimeout("snake.move()",1E3/this.s)}}};function Oa(a){for(var c=[],b,d=0;d<a.d.length;d++)b=a.d[d],c.push(new Ma(b.id,b.b,b.c));return c}
Z.prototype.K=function(){this.j||(this.a.snakeQueue=Oa(this),this.a.snakeHeadID=this.k,this.a.counter=this.m,this.a.snakeLength=this.l,this.a.snakeSpeed=this.s,this.a.currentDirection=this.e,this.a.previousDirection=this.o,this.a.gemCoords={x:this.i.x,y:this.i.y})};
Z.prototype.H=function(){var a;if(a=this.j){a=0;for(var c in this.a)a++;a=8==a}if(a){J("finalScore").style.display="none";this.j=l;this.d=this.a.snakeQueue;this.k=this.a.snakeHeadID;this.m=this.a.counter;this.l=this.a.snakeLength;this.s=this.a.snakeSpeed;this.e=this.a.currentDirection;this.o=this.a.previousDirection;this.i=this.a.gemCoords;this.a.snakeQueue=Oa(this);this.a.gemCoords={x:this.i.x,y:this.i.y};c=this.t.elements.snakeSpeed;for(a=0;a<c.length;a++)c[a].checked=parseInt(c[a].value,10)!=this.s?
l:i;M(this.t,i);Ka||(J("restartButton").focus(),J("restartButton").blur());J("counter").innerHTML=counter;this.g.innerHTML="";c=K();c.id="gemPiece";c.className="gem-piece";c.style.backgroundImage="url('images/gem_halloween.png')";this.g.appendChild(c);La(this,this.i.x,this.i.y);da(this.d,function(a){var c=K();c.id="snakePiece"+a.id;c.className="snake-Piece";c.style.top=20*a.c;c.style.left=20*a.b;c.style.backgroundImage=a.id==this.k?"url('images/head_halloween.png')":"url('images/body_halloween.gif')";
this.g.appendChild(c)},this);Ja(this)}};v("Snake",Z);v("Snake.prototype.move",Z.prototype.move);v("Snake.prototypesaveGame",Z.prototype.K);v("Snake.prototype.loadGame",Z.prototype.H);v("Snake.prototype.init",Z.prototype.n);