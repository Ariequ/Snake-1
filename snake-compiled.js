var h=void 0,j=!0,l=null,p=!1,s,t=this;function aa(a,b){var c=a.split("."),d=t;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ba(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function u(a){return"string"==typeof a}var v="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ca=0,da=Date.now||function(){return+new Date};function ea(a){a=String(a);var b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a};var w,fa,x,ga;function ha(){return t.navigator?t.navigator.userAgent:l}ga=x=fa=w=p;var y;if(y=ha()){var ia=t.navigator;w=0==y.indexOf("Opera");fa=!w&&-1!=y.indexOf("MSIE");x=!w&&-1!=y.indexOf("WebKit");ga=!w&&!x&&"Gecko"==ia.product}var ja=w,z=fa,B=ga,C=x,ka=t.navigator,la=-1!=(ka&&ka.platform||"").indexOf("Mac"),ma;
a:{var D="",E;if(ja&&t.opera)var na=t.opera.version,D="function"==typeof na?na():na;else if(B?E=/rv\:([^\);]+)(\)|;)/:z?E=/MSIE\s+([^\);]+)(\)|;)/:C&&(E=/WebKit\/(\S+)/),E)var oa=E.exec(ha()),D=oa?oa[1]:"";if(z){var pa,qa=t.document;pa=qa?qa.documentMode:h;if(pa>parseFloat(D)){ma=String(pa);break a}}ma=D}var ra={};
function F(a){var b;if(!(b=ra[a])){b=0;for(var c=String(ma).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",k=d[e]||"",m=RegExp("(\\d*)(\\D*)","g"),q=RegExp("(\\d*)(\\D*)","g");do{var r=m.exec(g)||["","",""],n=q.exec(k)||["","",""];if(0==r[0].length&&0==n[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==r[1].length?0:parseInt(r[1],
10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==r[2].length)<(0==n[2].length)?-1:(0==r[2].length)>(0==n[2].length)?1:0)||(r[2]<n[2]?-1:r[2]>n[2]?1:0)}while(0==b)}b=ra[a]=0<=b}return b}var sa={};function G(){return sa[9]||(sa[9]=z&&!!document.documentMode&&9<=document.documentMode)};var H=Array.prototype,ta=H.indexOf?function(a,b,c){return H.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ua=H.forEach?function(a,b,c){H.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)};function I(a,b){this.width=a;this.height=b}I.prototype.q=function(){return new I(this.width,this.height)};I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};I.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};!z||G();!B&&!z||z&&G()||B&&F("1.9.1");z&&F("9");function J(a){return u(a)?document.getElementById(a):a}function va(a){for(var b;b=a.firstChild;)a.removeChild(b)}function K(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else va(a),a.appendChild((9==a.nodeType?a:a.ownerDocument||a.document).createTextNode(b))};function wa(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function xa(a){a=a.style;a.position="relative";z&&!F("8")?(a.zoom="1",a.display="inline"):a.display=B?F("1.9a")?"inline-block":"-moz-inline-box":"inline-block"};function ya(){}var za=0;s=ya.prototype;s.key=0;s.r=p;s.K=p;s.A=function(a,b,c,d,f,e){if("function"==ba(a))this.S=j;else if(a&&a.handleEvent&&"function"==ba(a.handleEvent))this.S=p;else throw Error("Invalid listener argument");this.B=a;this.V=b;this.src=c;this.type=d;this.capture=!!f;this.Q=e;this.K=p;this.key=++za;this.r=p};s.handleEvent=function(a){return this.S?this.B.call(this.Q||this.src,a):this.B.handleEvent.call(this.B,a)};!z||G();var Aa=!z||G(),Ba=z&&!F("8");!C||F("528");B&&F("1.9b")||z&&F("8")||ja&&F("9.5")||C&&F("528");B&&!F("8")||z&&F("9");function L(a,b){this.type=a;this.currentTarget=this.target=b}L.prototype.H=p;L.prototype.defaultPrevented=p;L.prototype.ba=j;L.prototype.preventDefault=function(){this.defaultPrevented=j;this.ba=p};function Ca(a){Ca[" "](a);return a}Ca[" "]=function(){};function M(a,b){a&&this.A(a,b)}function Da(){}Da.prototype=L.prototype;M.ca=L.prototype;M.prototype=new Da;s=M.prototype;s.target=l;s.relatedTarget=l;s.offsetX=0;s.offsetY=0;s.clientX=0;s.clientY=0;s.screenX=0;s.screenY=0;s.button=0;s.keyCode=0;s.charCode=0;s.ctrlKey=p;s.altKey=p;s.shiftKey=p;s.metaKey=p;s.aa=p;s.M=l;
s.A=function(a,b){var c=this.type=a.type;L.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var f;a:{try{Ca(d.nodeName);f=j;break a}catch(e){}f=p}f||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=C||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.aa=la?a.metaKey:a.ctrlKey;this.state=a.state;this.M=a;a.defaultPrevented&&this.preventDefault();delete this.H};
s.preventDefault=function(){M.ca.preventDefault.call(this);var a=this.M;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Ba)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var N={},O={},P={},Q={};
function Ea(a,b,c,d,f){if(b)if("array"==ba(b))for(var e=0;e<b.length;e++)Ea(a,b[e],c,d,f);else{d=!!d;var g=O;b in g||(g[b]={j:0,p:0});g=g[b];d in g||(g[d]={j:0,p:0},g.j++);var g=g[d],k=a[v]||(a[v]=++ca),m;g.p++;if(g[k]){m=g[k];for(e=0;e<m.length;e++)if(g=m[e],g.B==c&&g.Q==f){if(g.r)break;return}}else m=g[k]=[],g.j++;var q=Fa,r=Aa?function(a){return q.call(r.src,r.key,a)}:function(a){a=q.call(r.src,r.key,a);if(!a)return a},e=r;e.src=a;g=new ya;g.A(c,e,a,b,d,f);c=g.key;e.key=c;m.push(g);N[c]=g;P[k]||
(P[k]=[]);P[k].push(g);a.addEventListener?(a==t||!a.Z)&&a.addEventListener(b,e,d):a.attachEvent(b in Q?Q[b]:Q[b]="on"+b,e)}else throw Error("Invalid event type");}function Ga(a,b,c,d){if(!d.C&&d.U){for(var f=0,e=0;f<d.length;f++)d[f].r?d[f].V.src=l:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.U=p;0==e&&(delete O[a][b][c],O[a][b].j--,0==O[a][b].j&&(delete O[a][b],O[a].j--),0==O[a].j&&delete O[a])}}
function Ha(a,b,c,d,f){var e=1;b=b[v]||(b[v]=++ca);if(a[b]){a.p--;a=a[b];a.C?a.C++:a.C=1;try{for(var g=a.length,k=0;k<g;k++){var m=a[k];m&&!m.r&&(e&=Ia(m,f)!==p)}}finally{a.C--,Ga(c,d,b,a)}}return Boolean(e)}
function Ia(a,b){if(a.K){var c=a.key;if(N[c]){var d=N[c];if(!d.r){var f=d.src,e=d.type,g=d.V,k=d.capture;f.removeEventListener?(f==t||!f.Z)&&f.removeEventListener(e,g,k):f.detachEvent&&f.detachEvent(e in Q?Q[e]:Q[e]="on"+e,g);f=f[v]||(f[v]=++ca);if(P[f]){var g=P[f],m=ta(g,d);0<=m&&H.splice.call(g,m,1);0==g.length&&delete P[f]}d.r=j;if(d=O[e][k][f])d.U=j,Ga(e,k,f,d);delete N[c]}}}return a.handleEvent(b)}
function Fa(a,b){if(!N[a])return j;var c=N[a],d=c.type,f=O;if(!(d in f))return j;var f=f[d],e,g;if(!Aa){var k;if(!(k=b))a:{k=["window","event"];for(var m=t;e=k.shift();)if(m[e]!=l)m=m[e];else{k=l;break a}k=m}e=k;k=j in f;m=p in f;if(k){if(0>e.keyCode||e.returnValue!=h)return j;a:{var q=p;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(r){q=j}if(q||e.returnValue==h)e.returnValue=j}}q=new M;q.A(e,this);e=j;try{if(k){for(var n=[],Z=q.currentTarget;Z;Z=Z.parentNode)n.push(Z);g=f[j];g.p=g.j;for(var A=n.length-
1;!q.H&&0<=A&&g.p;A--)q.currentTarget=n[A],e&=Ha(g,n[A],d,j,q);if(m){g=f[p];g.p=g.j;for(A=0;!q.H&&A<n.length&&g.p;A++)q.currentTarget=n[A],e&=Ha(g,n[A],d,p,q)}}else e=Ia(c,q)}finally{n&&(n.length=0)}return e}d=new M(b,this);return e=Ia(c,d)};function R(){this.n=[]}R.prototype.h=0;R.prototype.i=0;function Ja(a){if(a.h!=a.i){var b=a.n[a.h];delete a.n[a.h];a.h++;return b}}R.prototype.clear=function(){this.i=this.h=this.n.length=0};R.prototype.w=function(){return this.n.slice(this.h,this.i)};var Ka={ga:["BC","AD"],fa:["Before Christ","Anno Domini"],ia:"JFMAMJJASOND".split(""),pa:"JFMAMJJASOND".split(""),ha:"January February March April May June July August September October November December".split(" "),oa:"January February March April May June July August September October November December".split(" "),la:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ra:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),va:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
ta:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),na:"Sun Mon Tue Wed Thu Fri Sat".split(" "),sa:"Sun Mon Tue Wed Thu Fri Sat".split(" "),ja:"SMTWTFS".split(""),qa:"SMTWTFS".split(""),ma:["Q1","Q2","Q3","Q4"],ka:["1st quarter","2nd quarter","3rd quarter","4th quarter"],da:["AM","PM"],ea:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ua:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],X:6,wa:[5,6],Y:5};function La(a,b,c){"number"==typeof a?(this.c=new Date(a,b||0,c||1),Ma(this,c||1)):(b=typeof a,"object"==b&&a!=l||"function"==b?(this.c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Ma(this,a.getDate())):(this.c=new Date(da()),this.c.setHours(0),this.c.setMinutes(0),this.c.setSeconds(0),this.c.setMilliseconds(0)))}s=La.prototype;s.N=Ka.X;s.O=Ka.Y;s.q=function(){var a=new La(this.c);a.N=this.N;a.O=this.O;return a};s.getFullYear=function(){return this.c.getFullYear()};s.getYear=function(){return this.getFullYear()};
s.getMonth=function(){return this.c.getMonth()};s.getDate=function(){return this.c.getDate()};s.getUTCHours=function(){return this.c.getUTCHours()};s.L=function(a){return this.getYear()==a.getYear()&&this.getMonth()==a.getMonth()&&this.getDate()==a.getDate()};s.toString=function(){return[this.getFullYear(),ea(this.getMonth()+1),ea(this.getDate())].join("")+""};function Ma(a,b){a.getDate()!=b&&a.c.setUTCHours(a.c.getUTCHours()+(a.getDate()<b?1:-1))}s.valueOf=function(){return this.c.valueOf()};function S(a,b){if("FORM"==a.tagName)for(var c=a.elements,d=0;a=c[d];d++)S(a,b);else b==j&&a.blur(),a.disabled=b}function Na(a){var b=a.type;if(b===h)return l;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:l;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:l;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:l;default:return a.value!==h?a.value:l}};function T(a){var b={squareSize:20,boardWidth:30,boardHeight:15};a=a||{};for(var c in b)"undefined"===typeof a[c]&&(a[c]=b[c]);this.J=a.squareSize;this.g=new I(a.boardWidth,a.boardHeight);this.k=j;this.l=p;this.t=10;this.a=this.v=this.map=l;this.R=p;this.s={};Ea(document,"keydown",this.$,p,this)}s=T.prototype;
s.$=function(a){if(a)switch(a.keyCode){case 37:case 38:case 39:case 40:if(!this.l){var b=this.a;switch(a.keyCode){case 37:b.o!=Oa&&(b.m=3);break;case 38:2!=b.o&&(b.m=1);break;case 39:3!=b.o&&(b.m=Oa);break;case 40:1!=b.o&&(b.m=2)}}break;case 32:Pa(this);break;case 76:this.k&&this.T();break;case 78:this.k&&this.W();break;case 83:this.k||this.I()}};
s.W=function(){this.P=J("gameBoard");this.u=J("snakeSpeedForm");this.l=this.k=p;var a;a:if(a=this.u.elements.snakeSpeed,a.type)a=Na(a);else{for(var b=0;b<a.length;b++){var c=Na(a[b]);if(c){a=c;break a}}a=l}this.t=a;S(this.u,j);J("finalScore").style.display="none";K(J("counter"),"0");this.map=new Qa(this.g);a=new U(Math.floor(this.g.height/2),Math.floor(this.g.width/2));V(this.map,W,a);this.a=new X(1,a);Ra(this);this.move()};
function Ra(a,b){for(var c=new U(b?b.e:Math.floor(Math.random()*a.g.width),b?b.d:Math.floor(Math.random()*a.g.height));Sa(a.map,c)!=Ta;)c.e=Math.floor(Math.random()*a.g.width),c.d=Math.floor(Math.random()*a.g.height);V(a.map,Y,c);a.v=c}
s.move=function(){if(!this.l){var a=this.a.move();switch(Sa(this.map,a)){case Ua:Ja(this.a.b);Va(this);return;case Y:K(J("counter"),this.a.b.i-this.a.b.h-1+"");Ra(this);break;default:this.map.clear(Ja(this.a.b))}a=V(this.map,W,a);a===$||a===W?Va(this):setTimeout("snakeManager.move()",1E3/this.t)}};
function Va(a){a.k=j;K(J("finalScoreNum"),a.a.b.i-a.a.b.h-1+"");xa(J("finalScore"));S(a.u,p);var b=document.createElement("DIV");b.className="previous-scores-text";K(b,a.a.b.i-a.a.b.h-1+"");J("previousScores").appendChild(b)}s.I=function(){this.k||(this.s.snake=this.a.q(),this.s.snakeSpeed=this.t,this.s.gemCoordinates=this.v.q(),this.R=j)};
s.T=function(){if(this.k&&this.R){this.l=this.k=p;this.a=this.s.snake;this.t=this.s.snakeSpeed;this.v=this.s.gemCoordinates;this.I();for(var a=this.u.elements.snakeSpeed,b=0;b<a.length;b++)a[b].checked=parseInt(a[b].value,10)!=this.t?p:j;S(this.u,j);J("finalScore").style.display="none";K(J("counter"),this.a.b.i-this.a.b.h-1+"");va(this.P);for(var c=0;c<this.g.height;c++){a=document.createElement("DIV");a.id="row"+c;for(var d=0;d<this.g.width;d++)b=document.createElement("DIV"),b.id="spot"+c+"-"+d,
b.style.height=wa(this.J),b.style.width=wa(this.J),xa(b),a.appendChild(b);this.P.appendChild(a)}this.map=new Qa(this.g);Ra(this,this.v);ua(this.a.w(),function(a){this.a.head!==h&&this.a.head.L(a)?V(this.map,W,a):V(this.map,$,a)},this);Pa(this)}};function Pa(a){a.k||(a.l=!a.l,J("pauseButton").value=a.l?"Resume":"Pause",J("pauseGameOverlay").style.display=a.l?"block":"none",a.l||setTimeout("snakeManager.move()",1E3/a.t))}
function X(a,b){this.id=a;this.o=this.m=Oa;this.head=b;var c=this.b=new R;c.n[c.i++]=b}var Oa=4;X.prototype.q=function(){var a=new X(this.id,this.head);a.m=this.m;a.o=this.o;a.b=new R;ua(this.b.w(),function(b){a.append(b)},this);return a};X.prototype.w=function(){return this.b.w()};X.prototype.append=function(a){var b=this.head;this.head=a;var c=this.b;c.n[c.i++]=a;return b};
X.prototype.move=function(){var a=this.head.q();switch(this.m){case 3:a.d--;break;case 1:a.e--;break;case Oa:a.d++;break;case 2:a.e++}this.head=a;var b=this.b;b.n[b.i++]=a;this.o=this.m;return a};function U(a,b){this.e=a;this.d=b}U.prototype.q=function(){return new U(this.e,this.d)};U.prototype.L=function(a){return this.e===a.e&&this.d===a.d};function Qa(a){this.size=a;this.D=[];for(a=0;a<this.size.height;a++)this.D[a]=[]}
function Sa(a,b){if(Wa(a,b)){var c=a.D[b.e][b.d];return c?c.F:Ta}return Ua}function V(a,b,c){var d=Sa(a,c);Wa(a,c)&&(b=new Xa(c,b),a.D[c.e][c.d]=b,Ya(b),b.F===W&&(a.z!==h&&Sa(a,a.z.G)===W&&(a.z.F=$,Ya(a.z)),a.z=b));return d}Qa.prototype.clear=function(a){if(Wa(this,a)){var b=new Xa(a,Ta);this.D[a.e][a.d]=b;Ya(b)}};function Wa(a,b){return 0<=b.e&&b.e<a.size.height&&0<=b.d&&b.d<a.size.width}
function Xa(a,b){this.G=a;this.F=b;this.f={};switch((new La).getMonth()){case 9:this.f[W]="url('images/head_halloween.png')";this.f[$]="url('images/body_halloween.png')";this.f[Y]="url('images/gem_halloween.png')";break;case 10:this.f[W]="url('images/head_turkey.png')";this.f[$]="url('images/body_turkey.png')";this.f[Y]="url('images/gem_turkey.png')";break;case 11:this.f[W]="url('images/head_christmas.png')";this.f[$]="url('images/body_christmas.png')";this.f[Y]="url('images/gem_christmas.png')";
break;default:this.f[W]="url('images/head_default.png')",this.f[$]="url('images/body_default.png')",this.f[Y]="url('images/gem_default.png')"}}function Ya(a){var b=J("spot"+a.G.e+"-"+a.G.d);b&&(b.style.backgroundImage=a.f[a.F]||"")}var Ua=0,Ta=1,W=2,$=3,Y=4;aa("snake.Snake",X);aa("snake.Manager",T);T.prototype.move=T.prototype.move;T.prototype.startGame=T.prototype.W;T.prototype.saveGame=T.prototype.I;T.prototype.loadGame=T.prototype.T;
