var h=void 0,i=!0,k=null,m=!1,r,s=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"string"==typeof a}var u="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ba=0,ca=Date.now||function(){return+new Date};function v(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}};function da(a){var a=String(a),b=a.indexOf(".");-1==b&&(b=a.length);b=Math.max(0,2-b);return Array(b+1).join("0")+a};var w=Array.prototype,ea=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(t(a))return!t(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},fa=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=t(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)};function ga(a,b,c){"number"==typeof a?(this.e=new Date(a,b||0,c||1),ha(this,c||1)):(b=typeof a,"object"==b&&a!=k||"function"==b?(this.e=new Date(a.getFullYear(),a.getMonth(),a.getDate()),ha(this,a.getDate())):(this.e=new Date(ca()),this.e.setHours(0),this.e.setMinutes(0),this.e.setSeconds(0),this.e.setMilliseconds(0)))}r=ga.prototype;r.getFullYear=function(){return this.e.getFullYear()};r.getMonth=function(){return this.e.getMonth()};r.getDate=function(){return this.e.getDate()};r.getUTCHours=function(){return this.e.getUTCHours()};
r.toString=function(){return[this.getFullYear(),da(this.getMonth()+1),da(this.getDate())].join("")+""};function ha(a,b){a.getDate()!=b&&a.e.setUTCHours(a.e.getUTCHours()+(a.getDate()<b?1:-1))}r.valueOf=function(){return this.e.valueOf()};var x,ia,z,ja;function ka(){return s.navigator?s.navigator.userAgent:k}ja=z=ia=x=m;var A;if(A=ka()){var la=s.navigator;x=0==A.indexOf("Opera");ia=!x&&-1!=A.indexOf("MSIE");z=!x&&-1!=A.indexOf("WebKit");ja=!x&&!z&&"Gecko"==la.product}var ma=x,B=ia,C=ja,D=z,na=s.navigator,oa=-1!=(na&&na.platform||"").indexOf("Mac"),pa;
a:{var E="",F;if(ma&&s.opera)var qa=s.opera.version,E="function"==typeof qa?qa():qa;else if(C?F=/rv\:([^\);]+)(\)|;)/:B?F=/MSIE\s+([^\);]+)(\)|;)/:D&&(F=/WebKit\/(\S+)/),F)var ra=F.exec(ka()),E=ra?ra[1]:"";if(B){var sa,ta=s.document;sa=ta?ta.documentMode:h;if(sa>parseFloat(E)){pa=String(sa);break a}}pa=E}var ua={};
function G(a){var b;if(!(b=ua[a])){b=0;for(var c=String(pa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",j=d[e]||"",l=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var q=l.exec(g)||["","",""],n=p.exec(j)||["","",""];if(0==q[0].length&&0==n[0].length)break;b=((0==q[1].length?0:parseInt(q[1],10))<(0==n[1].length?0:parseInt(n[1],10))?-1:(0==q[1].length?0:parseInt(q[1],
10))>(0==n[1].length?0:parseInt(n[1],10))?1:0)||((0==q[2].length)<(0==n[2].length)?-1:(0==q[2].length)>(0==n[2].length)?1:0)||(q[2]<n[2]?-1:q[2]>n[2]?1:0)}while(0==b)}b=ua[a]=0<=b}return b}var va={};function H(){return va[9]||(va[9]=B&&!!document.documentMode&&9<=document.documentMode)};var wa;!B||H();!C&&!B||B&&H()||C&&G("1.9.1");B&&G("9");function I(a,b){this.width=a;this.height=b}I.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};I.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};function J(a){return t(a)?document.getElementById(a):a}function xa(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function K(a){this.I=a||s.document||document}K.prototype.createElement=function(a){return this.I.createElement(a)};K.prototype.appendChild=function(a,b){a.appendChild(b)};function L(a,b){if("FORM"==a.tagName)for(var c=a.elements,d=0;a=c[d];d++)L(a,b);else b==i&&a.blur(),a.disabled=b}function ya(a){var b=a.type;if(b===h)return k;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:k;case "select-one":return b=a.selectedIndex,0<=b?a.options[b].value:k;case "select-multiple":for(var b=[],c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:k;default:return a.value!==h?a.value:k}};!B||H();var za=!B||H(),Aa=B&&!G("8");!D||G("528");C&&G("1.9b")||B&&G("8")||ma&&G("9.5")||D&&G("528");C&&!G("8")||B&&G("9");function M(a,b){this.type=a;this.currentTarget=this.target=b}M.prototype.G=m;M.prototype.defaultPrevented=m;M.prototype.V=i;M.prototype.preventDefault=function(){this.defaultPrevented=i;this.V=m};function Ba(a){Ba[" "](a);return a}Ba[" "]=function(){};function N(a,b){a&&this.r(a,b)}function Ca(){}Ca.prototype=M.prototype;N.W=M.prototype;N.prototype=new Ca;r=N.prototype;r.target=k;r.relatedTarget=k;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=m;r.altKey=m;r.shiftKey=m;r.metaKey=m;r.U=m;r.J=k;
r.r=function(a,b){var c=this.type=a.type;M.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(C){var f;a:{try{Ba(d.nodeName);f=i;break a}catch(e){}f=m}f||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=D||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=D||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.U=oa?a.metaKey:a.ctrlKey;this.state=a.state;this.J=a;a.defaultPrevented&&this.preventDefault();delete this.G};
r.preventDefault=function(){N.W.preventDefault.call(this);var a=this.J;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Aa)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};function Da(){}var Ea=0;r=Da.prototype;r.key=0;r.v=m;r.H=m;r.r=function(a,b,c,d,f,e){if("function"==aa(a))this.L=i;else if(a&&a.handleEvent&&"function"==aa(a.handleEvent))this.L=m;else throw Error("Invalid listener argument");this.C=a;this.O=b;this.src=c;this.type=d;this.capture=!!f;this.K=e;this.H=m;this.key=++Ea;this.v=m};r.handleEvent=function(a){return this.L?this.C.call(this.K||this.src,a):this.C.handleEvent.call(this.C,a)};var O={},P={},Q={},R={};
function Fa(a,b,c,d,f){if(b)if("array"==aa(b))for(var e=0;e<b.length;e++)Fa(a,b[e],c,d,f);else{var d=!!d,g=P;b in g||(g[b]={f:0,t:0});g=g[b];d in g||(g[d]={f:0,t:0},g.f++);var g=g[d],j=a[u]||(a[u]=++ba),l;g.t++;if(g[j]){l=g[j];for(e=0;e<l.length;e++)if(g=l[e],g.C==c&&g.K==f){if(g.v)break;return}}else l=g[j]=[],g.f++;var p=Ga,q=za?function(a){return p.call(q.src,q.key,a)}:function(a){a=p.call(q.src,q.key,a);if(!a)return a},e=q;e.src=a;g=new Da;g.r(c,e,a,b,d,f);c=g.key;e.key=c;l.push(g);O[c]=g;Q[j]||
(Q[j]=[]);Q[j].push(g);a.addEventListener?(a==s||!a.Q)&&a.addEventListener(b,e,d):a.attachEvent(b in R?R[b]:R[b]="on"+b,e)}else throw Error("Invalid event type");}function Ha(a,b,c,d){if(!d.D&&d.N){for(var f=0,e=0;f<d.length;f++)d[f].v?d[f].O.src=k:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.N=m;0==e&&(delete P[a][b][c],P[a][b].f--,0==P[a][b].f&&(delete P[a][b],P[a].f--),0==P[a].f&&delete P[a])}}
function Ia(a,b,c,d,f){var e=1,b=b[u]||(b[u]=++ba);if(a[b]){a.t--;a=a[b];a.D?a.D++:a.D=1;try{for(var g=a.length,j=0;j<g;j++){var l=a[j];l&&!l.v&&(e&=Ja(l,f)!==m)}}finally{a.D--,Ha(c,d,b,a)}}return Boolean(e)}
function Ja(a,b){if(a.H){var c=a.key;if(O[c]){var d=O[c];if(!d.v){var f=d.src,e=d.type,g=d.O,j=d.capture;f.removeEventListener?(f==s||!f.Q)&&f.removeEventListener(e,g,j):f.detachEvent&&f.detachEvent(e in R?R[e]:R[e]="on"+e,g);f=f[u]||(f[u]=++ba);if(Q[f]){var g=Q[f],l=ea(g,d);0<=l&&w.splice.call(g,l,1);0==g.length&&delete Q[f]}d.v=i;if(d=P[e][j][f])d.N=i,Ha(e,j,f,d);delete O[c]}}}return a.handleEvent(b)}
function Ga(a,b){if(!O[a])return i;var c=O[a],d=c.type,f=P;if(!(d in f))return i;var f=f[d],e,g;if(!za){var j;if(!(j=b))a:{j=["window","event"];for(var l=s;e=j.shift();)if(l[e]!=k)l=l[e];else{j=k;break a}j=l}e=j;j=i in f;l=m in f;if(j){if(0>e.keyCode||e.returnValue!=h)return i;a:{var p=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(q){p=i}if(p||e.returnValue==h)e.returnValue=i}}p=new N;p.r(e,this);e=i;try{if(j){for(var n=[],Y=p.currentTarget;Y;Y=Y.parentNode)n.push(Y);g=f[i];g.t=g.f;for(var y=n.length-
1;!p.G&&0<=y&&g.t;y--)p.currentTarget=n[y],e&=Ia(g,n[y],d,i,p);if(l){g=f[m];g.t=g.f;for(y=0;!p.G&&y<n.length&&g.t;y++)p.currentTarget=n[y],e&=Ia(g,n[y],d,m,p)}}else e=Ja(c,p)}finally{n&&(n.length=0)}return e}d=new N(b,this);return e=Ja(c,d)};function S(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}S.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};function T(a,b){var c=xa(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,k))?c[b]||c.getPropertyValue(b)||"":""}
function Ka(a){var b=xa(a),c=B&&a.currentStyle,d;if(d=c)d="CSS1Compat"==(b?new K(xa(b)):wa||(wa=new K)).I.compatMode&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing;if(d)return b=U(a,c.width,"width","pixelWidth"),a=U(a,c.height,"height","pixelHeight"),new I(b,a);c=new I(a.offsetWidth,a.offsetHeight);if(B){b=V(a,"paddingLeft");d=V(a,"paddingRight");var f=V(a,"paddingTop"),e=V(a,"paddingBottom"),b=new S(f,d,e,b)}else b=T(a,"paddingLeft"),d=T(a,"paddingRight"),f=T(a,"paddingTop"),e=T(a,"paddingBottom"),
b=new S(parseFloat(f),parseFloat(d),parseFloat(e),parseFloat(b));B?(d=La(a,"borderLeft"),f=La(a,"borderRight"),e=La(a,"borderTop"),a=La(a,"borderBottom"),a=new S(e,f,a,d)):(d=T(a,"borderLeftWidth"),f=T(a,"borderRightWidth"),e=T(a,"borderTopWidth"),a=T(a,"borderBottomWidth"),a=new S(parseFloat(e),parseFloat(f),parseFloat(a),parseFloat(d)));return new I(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}
function U(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var f=a.style[c],e=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=f;a.runtimeStyle[c]=e;return b}function V(a,b){return U(a,a.currentStyle?a.currentStyle[b]:k,"left","pixelLeft")}var Ma={thin:2,medium:4,thick:6};function La(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:k))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:k;return c in Ma?Ma[c]:U(a,c,"left","pixelLeft")};function W(){switch((new ga).getMonth()){case 9:this.n="url('images/head_halloween.png')";this.k="url('images/body_halloween.gif')";this.j="url('images/gem_halloween.png')";break;case 10:this.n="url('images/head_turkey.png')";this.k="url('images/body_turkey.png')";this.j="url('images/gem_turkey.png')";break;case 11:this.n="url('images/head_christmas.png')";this.k="url('images/body_christmas.png')";this.j="url('images/gem_christmas.png')";break;default:this.n="url('images/head_default.jpg')",this.k=
"url('images/body_default.jpg')",this.j="url('images/gem_default.png')"}this.w=0;this.q=i;this.F=this.h=m;this.l=0;this.z=1;this.s=this.g=X;this.p=[];this.X=-1;this.o={x:0,y:0};this.i={x:0,y:0};this.a={};Fa(document,"keydown",this.T,m,this)}var X=3;
W.prototype.T=function(a){if(a)switch(a.keyCode){case 37:!this.h&&this.s!=X&&(this.g=2);break;case 38:!this.h&&1!=this.s&&(this.g=0);break;case 39:!this.h&&2!=this.s&&(this.g=X);break;case 40:!this.h&&0!=this.s&&(this.g=1);break;case 32:Na(this);break;case 76:this.M();break;case 78:this.q&&this.r();break;case 83:this.P()}};
W.prototype.r=function(){J("finalScore").style.display="none";this.B=J("gameBoard");this.m=Ka(this.B);this.A=J("snakeSpeedForm");this.h=this.q=m;this.l=0;this.z=1;this.g=X;this.p=[];var a;a:if(a=this.A.elements.snakeSpeed,a.type)a=ya(a);else{for(var b=0;b<a.length;b++){var c=ya(a[b]);if(c){a=c;break a}}a=k}this.w=a;L(this.A,i);J("counter").innerHTML=this.l;Oa(this);this.o.y=Math.floor(this.m.height/20);this.o.x=Math.floor(this.m.width/20);this.map=new Pa(new I(this.o.x,this.o.y));a=Math.floor(this.o.y/
2);b=Math.floor(this.o.x/2);Qa(this);this.d=new SnakeCoordinates(a,b);Z(this.map,this.d,$);this.p.push(this.d);this.move()};function Oa(a){a.B.innerHTML="";for(var b=Math.floor(a.m.height/20),c=Math.floor(a.m.width/20),d,f,e=0;e<b;e++){d=document.createElement("div");d.id="row"+e;d.style.display="block";for(var g=0;g<c;g++)f=document.createElement("div"),f.id="spot"+e+"-"+g,f.style.width=20,f.style.height=20,f.style.display="inline-block",d.appendChild(f);a.B.appendChild(d)}}
function Qa(a,b,c){a.m||(a.m=Ka(a.B));for(var d=Math.floor(a.m.height/20),f=Math.floor(a.m.width/20),b=b||Math.floor(Math.random()*f),c=c||Math.floor(Math.random()*d);!Ra(a.map,c,b);)b=Math.floor(Math.random()*f),c=Math.floor(Math.random()*d);a.i.x=b;a.i.y=c}function Na(a){if(!a.q){var b=J("pauseButton");a.h?(a.h=m,b&&(b.value="Pause"),J("pauseGameOverlay").style.display="none",setTimeout("snake.move()",1E3/a.w)):(a.h=i,b&&(b.value="Resume"),J("pauseGameOverlay").style.display="block")}}
SnakeCoordinates=function(a,b){this.c=a||-1;this.b=b||-1};
W.prototype.move=function(){if(!this.h){var a=new SnakeCoordinates(this.d.c,this.d.b);switch(this.g){case 2:a.b--;break;case 0:a.c--;break;case X:a.b++;break;case 1:a.c++}if(this.q=!Sa(this.map,a))J("finalScoreNum").innerHTML=this.l,J("finalScore").style.display="inline",L(this.A,m),a=document.createElement("div"),a.className="previous-scores-text",a.innerHTML=this.l,J("previousScores").appendChild(a);else{if(this.F)this.F=m;else{var b=this.p.shift(),c=this.map;Ta(c,b)&&(c.u[b.c][b.b]=Ua,J("spot"+
b.c+"-"+b.b).style.backgroundImage="")}1!==this.z&&Z(this.map,this.d,Va);Z(this.map,a,$);this.p.push(a);this.s=this.g;this.d=a;if(!Ta(this.map,a)?0:a.c===this.map.S&&a.b===this.map.R)if(this.z++,this.F=i,Qa(this),a=J("counter"))a.innerHTML=++this.l;setTimeout("snake.move()",1E3/this.w)}}};function Wa(a){for(var b=[],c,d=0;d<a.p.length;d++)c=a.p[d],b.push(new SnakeCoordinates(c.c,c.b));return b}
W.prototype.P=function(){this.q||(this.a.snakeQueue=Wa(this),this.a.currentHead=new SnakeCoordinates(this.d.c,this.d.b),this.a.counter=this.l,this.a.snakeLength=this.z,this.a.snakeSpeed=this.w,this.a.currentDirection=this.g,this.a.previousDirection=this.s,this.a.gemCoords={x:this.i.x,y:this.i.y})};
W.prototype.M=function(){var a;if(a=this.q){a=0;for(var b in this.a)a++;a=8==a}if(a){J("finalScore").style.display="none";this.q=m;this.p=this.a.snakeQueue;this.d=this.a.currentHead;this.l=this.a.counter;this.z=this.a.snakeLength;this.w=this.a.snakeSpeed;this.g=this.a.currentDirection;this.s=this.a.previousDirection;this.i=this.a.gemCoords;this.a.snakeQueue=Wa(this);this.a.currentHead=new SnakeCoordinates(this.d.c,this.d.b);this.a.gemCoords={x:this.i.x,y:this.i.y};b=this.A.elements.snakeSpeed;for(a=
0;a<b.length;a++)b[a].checked=parseInt(b[a].value,10)!=this.w?m:i;L(this.A,i);J("counter").innerHTML=this.l;Oa(this);this.map=new Pa(new I(this.o.x,this.o.y));Qa(this,this.i.x,this.i.y);fa(this.p,function(a){a.c===this.d.c&&a.b===this.d.b?Z(this.map,a,$):Z(this.map,a,Va)},this);Na(this)}};
function Pa(a){this.size=a;this.u=[];for(var b=0;b<a.height;b++)this.u[b]=[];switch((new ga).getMonth()){case 9:this.n="url('images/head_halloween.png')";this.k="url('images/body_halloween.gif')";this.j="url('images/gem_halloween.png')";break;case 10:this.n="url('images/head_turkey.png')";this.k="url('images/body_turkey.png')";this.j="url('images/gem_turkey.png')";break;case 11:this.n="url('images/head_christmas.png')";this.k="url('images/body_christmas.png')";this.j="url('images/gem_christmas.png')";
break;default:this.n="url('images/head_default.jpg')",this.k="url('images/body_default.jpg')",this.j="url('images/gem_default.png')"}}function Z(a,b,c){if(Ta(a,b))switch(a.u[b.c][b.b]=c,b=J("spot"+b.c+"-"+b.b),c){case Ua:b.style.backgroundImage="";break;case $:b.style.backgroundImage=a.n;break;case Va:b.style.backgroundImage=a.k;break;case Xa:b.style.backgroundImage=a.j}}
function Ra(a,b,c){if(!Sa(a,new SnakeCoordinates(b,c)))return m;a.u[b][c]=Xa;J("spot"+b+"-"+c).style.backgroundImage=a.j;a.S=b;a.R=c;return i}function Sa(a,b){return Ta(a,b)&&a.u[b.c][b.b]!=Va&&a.u[b.c][b.b]!=$}function Ta(a,b){return 0<=b.c&&b.c<a.size.height&&0<=b.b&&b.b<a.size.width}var Ua=0,$=1,Va=2,Xa=3;v("Snake",W);v("Snake.prototype.move",W.prototype.move);v("Snake.prototypesaveGame",W.prototype.P);v("Snake.prototype.loadGame",W.prototype.M);v("Snake.prototype.init",W.prototype.r);